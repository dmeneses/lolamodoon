<div fxLayout="row" fxLayoutAlign="center start" fxLayoutGap="40px" >

  <div fxLayout="row" fxLayoutAlign="center center">
    <mat-spinner *ngIf="(loading$ | async) === true"></mat-spinner>
  </div>

  <form *ngIf="(loading$ | async) === false" fxLayout="column" [formGroup]="createFoodForm">
    <mat-form-field class="form-field" appearance="outline">
      <mat-label> Name </mat-label>
      <input matInput formControlName="name">
      <mat-error *ngIf="createFoodForm.controls.name.touched || createFoodForm.controls.name.invalid">
        <span *ngIf="createFoodForm.controls.name.errors?.required">El campo es obligatorio.</span>
        <span *ngIf="createFoodForm.controls.name.errors?.pattern">El campo es inválido.</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="form-field" appearance="outline">
      <mat-label> Descripción </mat-label>
      <textarea matInput formControlName="description"></textarea>
      <mat-error *ngIf="createFoodForm.controls.description.touched || createFoodForm.controls.description.invalid">
        <span *ngIf="createFoodForm.controls.description.errors?.required">El campo es obligatorio.</span>
        <span *ngIf="createFoodForm.controls.description.errors?.pattern">El campo es inválido.</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="form-field" appearance="outline">
      <mat-label> Proteína </mat-label>
      <input matInput formControlName="protein">
      <mat-error *ngIf="createFoodForm.controls.protein.touched || createFoodForm.controls.protein.invalid">
        <span *ngIf="createFoodForm.controls.protein.errors?.required">El campo es obligatorio.</span>
        <span *ngIf="createFoodForm.controls.protein.errors?.pattern">El campo es inválido.</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="form-field" appearance="outline">
      <mat-label> Carbohidrato </mat-label>
      <input matInput formControlName="carbohydrate">
      <mat-error *ngIf="createFoodForm.controls.carbohydrate.touched || createFoodForm.controls.carbohydrate.invalid">
        <span *ngIf="createFoodForm.controls.carbohydrate.errors?.required">El campo es obligatorio.</span>
        <span *ngIf="createFoodForm.controls.carbohydrate.errors?.pattern">El campo es inválido.</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="form-field" appearance="outline">
      <mat-label> Grasa </mat-label>
      <input matInput formControlName="fat">
      <mat-error *ngIf="createFoodForm.controls.fat.touched || createFoodForm.controls.fat.invalid">
        <span *ngIf="createFoodForm.controls.fat.errors?.required">El campo es obligatorio.</span>
        <span *ngIf="createFoodForm.controls.fat.errors?.pattern">El campo es inválido.</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="form-field" appearance="outline">
      <mat-label> Fibra </mat-label>
      <input matInput formControlName="fiber">
      <mat-error *ngIf="createFoodForm.controls.fiber.touched || createFoodForm.controls.fiber.invalid">
        <span *ngIf="createFoodForm.controls.fiber.errors?.required">El campo es obligatorio.</span>
        <span *ngIf="createFoodForm.controls.fiber.errors?.pattern">El campo es inválido.</span>
      </mat-error>
    </mat-form-field>

    <div fxLayout="row" fxLayoutAlign="space-between center">
      <a mat-raised-button color="basic" [routerLink]="[ '../' ]">Cancelar</a>
      <button *ngIf="!isEdit" mat-raised-button color="primary" type="submit" (click)="saveFood()">Guardar</button>
      <button *ngIf="isEdit" mat-raised-button color="primary" type="submit" (click)="updateFood()">Actualizar</button>
    </div>
  </form>
  <div fxLayout="column" *ngIf="(loading$ | async) === false">
    <mat-card>
      <mat-card-header>
      </mat-card-header>
      <mat-card-content>
        <h2>Cantidad / Unidad</h2>
        <p>100 gramos</p>

        <h2>Calorias</h2>
        <p>{{calorieCount}}</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>

